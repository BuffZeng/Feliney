<!DOCTYPE html>
{% load static %}

<html>
    
    <head>
        <title>Cat Profile</title>
    </head>

<meta charset="utf-8">
<!-- Font Awesome Icon Library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>

    body {
    margin: 0;
    }

    .header {
        font-size: 30px;
        text-align: center;
    }

    .div {
        margin-right: 50px;
        margin-left: 50px;
    }

    .search-bar {
        width: 100%;
        background-color: #4b4b4b;
        overflow: auto;
    }
    
    .search-bar a {
        float: left;
        text-align: center;
        padding: 14px;
        color: white;
        text-decoration: none;
        font-size: 17px;
    }
    
    .search-bar a:hover {
        background-color: rgb(39, 39, 39);
    }
    
    .active {
      background-color: #04AA6D;
    }

    .search-bar .search-container {
        float: right;
    }

    .search-bar input[type=text] {
        padding: 6px;
        margin-top: 8px;
        margin-right: 16px;
        font-size: 17px;
        border: none;
        width: 500px;
    }

    .search-bar .search-container button {
        float: right;
        padding: 6px 10px;
        margin-top: 8px;
        margin-right: 16px;
        background: #ddd;
        font-size: 17px;
        border: none;
        cursor: pointer;
    }

    .search-bar .search-container button:hover {
        background: #ccc;
    }

    .column-two {
        margin-top: 20px;
        float: left;
        width: 45%;
        padding: 15px;
        font-size: 18px;
    }

    .column-three {
        margin-top: 20px;
        float: left;
        width: 30%;
        padding: 15px;
        font-size: 18px;
    }

    .row:after {
        content: "";
        display: table;
        clear: both;
    }

    .comment {
        float: left;
        width: 100%;
        
    }

    .comment h2 {
        margin-left: 50px;
        font-size: 30px;
    }
    .comment p {
        padding: 10px;
        margin-top: 8px;
        margin-left: 80px;
        margin-right: 80px;
        font-size: 17px;
        border-style: solid;
        height: 100px;
        overflow: auto;
    }

    .comment textarea {
        padding: 10px;
        margin-top: 8px;
        margin-left: 80px;
        margin-right: 80px;
        font-size: 17px;
        border-style: solid;
        width: 80%;
        height: 100px;
        overflow: auto;
    }

    .comment button {
        float: right;
        padding: 6px 10px;
        margin-top: 8px;
        margin-right: 80px;
        background: #ddd;
        font-size: 17px;
        border: none;
        cursor: pointer;
    }

    .comment button:hover {
        background: #ccc;
    }

</style>

    <body>

        <div class="header">
            <h1>Feliney</h1>
        </div>
        <div class="search-bar">
            <a class="active" href="{% url 'users:home_page' %}"><i class="fa fa-home"></i> Home</a>
            {% if user.is_authenticated %}
            {% else %}
            <a href="{% url 'users:login' %}"><i class="fa fa-user"></i> Login</a>
            {% endif %}
            {% if user.is_authenticated %}
            <a href="{% url 'users:index' %}"><i class="fa fa-user"></i> User</a>
            {% else %}
            {% endif %}
            <div class="search-container">
                <form method="GET" action="{% url 'cats:search' %}">
                    {% csrf_token %}
                    <input type="text" placeholder="Search..." name="search">
                    <button type="submit"><i class="fa fa-search"></i></button>
                </form>
            </div>
        </div>

        {% if cat %}
        <div class="row">
            <div class="column-two">
                <img class="cat-img" src="/media/{{cat.slug}}.jpeg" alt="Picture of cat." width="640" height="360"/>
            </div>
            <div class="column-two">
                <b>Name:</b> 
                    {{cat.breed}}
                <br><b>Range:</b> 
                    {{cat.price_range}}
                <br><b>Description:</b> 
                    {{cat.description}}
            </div>
        </div>

        <div class="row">
            <div class="column-three">
                Tidiness
                {{cat.tidiness}}
            </div>
            <div class="column-three">
                Friendliness
                {{cat.friendliness}}
            </div>
            <div class="column-three">
                Fussiness
                {{cat.fussiness}}
            </div>
            {% if user.is_authenticated %}
            <form id="RatingCatForm" method="post" action="">
                {% csrf_token %}
                {% for hidden in ratingform.hidden_fields %}
                    {{ hidden }}
                {% endfor %}
                {% for field in ratingform.visible_fields %}
                    {{ field.errors }}
                    {{ field }}
                {% endfor %}
            <div class="column-three">
                Tidiness
                <input type="text" name="tidiness" placeholder="Tidiness">
            </div>
            <div class="column-three">
                Friendliness
                <input type="text" name="friendliness" placeholder="Friendliness">
            </div>
            <div class="column-three">
                Fussiness
                <input type="text" name="fussinessc" placeholder="Fussiness">
            </div>
            <input type="submit" value="submit">
            </form>
            {% else %}
            {% endif %}
        </div>

        <div class="comment">
            <h2>Comment</h2>
            {% if comment %}
                {% for com in comment %}
                    <i class="fa fa-user"></i> {{com.uid}}<br>
                        <br>&emsp;&emsp;{{com.description}}

                    <br><form method="POST" action="{% url 'cats:show_cat' slugo %}" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="hidden" name="como" value="{{com.description}}">
                        {% if user_type == "Admin" %}
                    <input class="edito" type="submit" name="Select" value="Delete">
                    {% endif %}
                </form>
                    
                {% endfor %}
            {% endif %}
            
            {% if user.is_authenticated %}
            <form id="CommentForm" method="post" action="">
                {% csrf_token %}
                {% for field in commentform.visible_fields %}
                    {{ field.errors }}
                    {{ field.help_text }}
                    {{ field }}
                {% endfor %}
                <textarea name="comment" placeholder="Type your comment..."></textarea>
                <button type="submit">submit</button>
            </form>
            {% else %}
            {% endif %}
        </div>
        {% else %}
            No matched cat founded.
        {% endif %}
    </body>
</html>